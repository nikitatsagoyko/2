function _bridgeSend(a,b){androidBridge&&androidBridge[a]?androidBridge[a](JSON.stringify(b)):iosBridge&&iosBridge[a]&&"function"==typeof iosBridge[a].postMessage&&iosBridge[a].postMessage(b)}function _bridgeSupports(a){return IS_ANDROID_WEBVIEW?androidBridge&&"function"==typeof androidBridge[a]:!!IS_IOS_WEBVIEW&&iosBridge&&iosBridge[a]&&"function"==typeof iosBridge[a].postMessage}function obj2qs(a){if(!a)return"";var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c].toString()||""));return b.length?"?"+b.join("&"):""}var IS_CLIENT_SIDE="undefined"!=typeof window,IS_ANDROID_WEBVIEW=Boolean(IS_CLIENT_SIDE&&window.AndroidBridge),IS_IOS_WEBVIEW=Boolean(IS_CLIENT_SIDE&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),IS_WEB=IS_CLIENT_SIDE&&!IS_ANDROID_WEBVIEW&&!IS_IOS_WEBVIEW,androidBridge=IS_CLIENT_SIDE?window.AndroidBridge:void 0,iosBridge=IS_IOS_WEBVIEW?window.webkit.messageHandlers:void 0,IS_BRIDGE_AVAILABLE=!IS_WEB&&_bridgeSupports("VKWebAppConversionHit");(function(a){function b(a,c,d,e,f){a[c]?d.apply(e):(f=f||0)<1e3&&setTimeout(function(){b(a,c,d,e,f+1)},0)}function c(c){setTimeout(function(){var d=document.createElement("script");d.type="text/javascript",d.src=c||a.fastXDM.helperUrl,b(document,"body",function(){document.getElementsByTagName("HEAD")[0].appendChild(d)})},0)}function d(a,b){var c;switch(typeof a){case"string":c=b?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):a.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");break;case"object":if("[object Array]"===Object.prototype.toString.apply(a)){c=[];for(var e=0,f=a.length;e<f;e++)c[e]=d(a[e],b)}else for(var g in c={},a)Object.hasOwnProperty.call(a,g)&&(c[g]=d(a[g],b));break;default:c=a}return c}function e(a,b){l.loaded?a.apply(b,[l]):k.push([b,a])}function f(){l.loaded=!0;for(var a=0,b=k.length;a<b;a++)k[a][1].apply(k[a][0],[l])}function g(b,c,f){e(function(e){var g=e.json.parse(b),h=g[0];if(h){if("p"===e.protocol&&c.options.sameOrigin&&f!==a.origin&&!c.isUnsafeMethod(h))throw Error("Insecure method call.");g[1]||(g[1]=[]);for(var i=0,j=g[1].length;i<j;i++)if(g[1][i]&&g[1][i]._func){var k=g[1][i]._func;g[1][i]=function(){var a=Array.prototype.slice.call(arguments);a.unshift("_func"+k),c.callMethod.apply(c,a)}}else c.options.safe&&(g[1][i]=d(g[1][i],!0));setTimeout(function(){if(!c.methods[h])throw Error("fastXDM: Method "+h+" is undefined");c.methods[h].apply(c,g[1])},0)}})}function h(a,b){for(var c in b)a[c]&&"object"==typeof a[c]?h(a[c],b[c]):a[c]=b[c]}if(!a.fastXDM){var i={},j={},k=[],l={};a.fastXDM={_id:0,helperUrl:"https://vk.com/js/api/xdmHelper.js",Server:function(b,c,d){this.methods=b||{},this.filter=c,this.options=d||{},this.id=a.fastXDM._id++,this.key=function(){for(var a="",b=0;b<5;b++)a+=Math.ceil(15*Math.random()).toString(16);return a}(),this.frameName="fXD"+this.key,this.server=!0,this.methods["%init%"]=this.methods.__fxdm_i=function(){e(function(b){for(var c in this.methods)if(this.methods[c]instanceof a.fastXDM.Server){var d=this.methods[c];"p"===b.protocol&&b.send(this,b.json.stringify(["%proxy%",[c,d.key]])),this.methods[c]=function(){this.callMethod.apply(this,arguments)}.bind(d)}},this),a.fastXDM.run(this.id),this.methods.onInit&&this.methods.onInit()},i[this.key]=[g,this]},Client:function(b,c){if(this.methods=b||{},this.options=c||{},this.id=a.fastXDM._id++,this.client=!0,a.fastXDM.run(this.id),0!==window.name.indexOf("fXD"))throw Error("Wrong window.name property.");this.key=window.name.substr(3),this.caller=window.parent,j[this.key]||(j[this.key]={}),this.methods["%proxy%"]=function(a,b){a&&b&&this.caller.frames["fXD"+b]&&(j[this.key][a]={key:b,frame:{contentWindow:this.caller.frames["fXD"+b]}})}.bind(this),i[this.key]=[g,this],a.fastXDM.on("helper",function(){a.fastXDM.onClientStart(this)},this),e(function(a){a.send(this,a.json.stringify(["%init%"]));var b=this.methods;setTimeout(function(){b.onInit&&b.onInit()},0)},this)},onMessage:function(a){var b=a.data;if(!b)return!1;if("string"!=typeof b&&!(b instanceof String))return!1;var c=b.substr(0,5);if(i[c]){var d=i[c][1];!d||d.filter&&!d.filter(a.origin)||i[c][0](b.substr(6),d,a.origin)}},setJSON:function(a){l.json=a},getJSON:function(a){if(!a)return l.json;e(function(b){a(b.json)})},getProxyToServer:function(a,b){return j[a]&&j[a][b]},setEnv:function(a){for(var b in a)l[b]=a[b];f()},_q:{},on:function(a,b,c){this._q[a]||(this._q[a]=[]),-1==this._q[a]?b.apply(c):this._q[a].push([b,c])},run:function(a){for(var b=(this._q[a]||[]).length,c=0;c<b;c++)this._q[a][c][0].apply(this._q[a][c][1]);this._q[a]=-1},waitFor:b},a.fastXDM.Server.prototype.start=function(b,c){if(b.contentWindow)this.caller=b.contentWindow,this.frame=b,a.fastXDM.on("helper",function(){a.fastXDM.onServerStart(this)},this);else{var d=this;(c=c||0)<50&&setTimeout(function(){d.start.apply(d,[b,c+1])},100)}},a.fastXDM.Server.prototype.destroy=function(){delete i[this.key]},a.fastXDM.Server.prototype.append=function(a,b,c){var d=document.createElement("DIV");d.innerHTML='<iframe name="'+this.frameName+'" '+(c||"")+"></iframe>";var e=d.firstChild,f=this;return setTimeout(function(){e.frameBorder="0",b&&h(e,b),a.insertBefore(e,a.firstChild),f.start(e)},0),e},a.fastXDM.Client.prototype.callMethod=a.fastXDM.Server.prototype.callMethod=function(){for(var c=Array.prototype.slice.call(arguments),f=c.shift(),g=0,h=c.length;g<h;g++)if("function"==typeof c[g]){this.funcsCount=(this.funcsCount||0)+1;var i=c[g],j="_func"+this.funcsCount;this.methods[j]=function(){i.apply(this,arguments),delete this.methods[j]},c[g]={_func:this.funcsCount}}else this.options.safe&&(c[g]=d(c[g],!1));b(this,"caller",function(){a.fastXDM.on(this.id,function(){e(function(b){var d=this,e=a.fastXDM.getProxyToServer(this.key,f);e&&(d=e,f=c.shift()),b.send(d,b.json.stringify([f,c]))},this)},this)},this)},a.fastXDM.Client.prototype.isUnsafeMethod=a.fastXDM.Server.prototype.isUnsafeMethod=function(a){return~["%proxy%","%init%"].indexOf(a)||this.options.unsafeMethods&&~this.options.unsafeMethods.indexOf(a)},a.JSON&&"object"==typeof a.JSON&&a.JSON.parse&&a.JSON.stringify&&'{"a":[1,2,3]}'===a.JSON.stringify({a:[1,2,3]}).replace(/ /g,"")?l.json={parse:a.JSON.parse,stringify:a.JSON.stringify}:a.fastXDM._needJSON=!0,a.postMessage?(l.protocol="p",l.send=function(a,b){var c=a.frame?a.frame.contentWindow:a.caller;if(c)try{c.postMessage(a.key+":"+b,"*")}catch(d){window.postMessage.call(c,a.key+":"+b,"*")}},a.addEventListener?a.addEventListener("message",a.fastXDM.onMessage,!1):a.attachEvent("onmessage",a.fastXDM.onMessage),a.fastXDM._needJSON?(a.fastXDM._onlyJSON=!0,c()):f()):c()}})(window),window.VK||(window.VK={}),VK.MD5||(VK.MD5=function(a){var b,c=function(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c},d=function(a,b,d,e,f,g){return c(function(a,b){return a<<b|a>>>32-b}(c(c(b,a),c(e,g)),f),d)},e=function(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)},f=function(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)},g=function(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)},h=function(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)};return function(a){for(var b,c="0123456789abcdef",d="",e=0,f=a.length;e<f;e++)b=a.charCodeAt(e),d+=c.charAt(b>>>4&15)+c.charAt(15&b);return d}(function(a){for(var b="",c=0,d=32*a.length;c<d;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b}(function(a,b){var d,i,j,k,l=1732584193,m=-271733879,n=-1732584194,o=271733878;a[b>>5]|=128<<b%32,a[14+(b+64>>>9<<4)]=b;for(var p=0,q=a.length;p<q;p+=16)d=l,i=m,j=n,k=o,l=e(l,m,n,o,a[p+0],7,-680876936),o=e(o,l,m,n,a[p+1],12,-389564586),n=e(n,o,l,m,a[p+2],17,606105819),m=e(m,n,o,l,a[p+3],22,-1044525330),l=e(l,m,n,o,a[p+4],7,-176418897),o=e(o,l,m,n,a[p+5],12,1200080426),n=e(n,o,l,m,a[p+6],17,-1473231341),m=e(m,n,o,l,a[p+7],22,-45705983),l=e(l,m,n,o,a[p+8],7,1770035416),o=e(o,l,m,n,a[p+9],12,-1958414417),n=e(n,o,l,m,a[p+10],17,-42063),m=e(m,n,o,l,a[p+11],22,-1990404162),l=e(l,m,n,o,a[p+12],7,1804603682),o=e(o,l,m,n,a[p+13],12,-40341101),n=e(n,o,l,m,a[p+14],17,-1502002290),m=e(m,n,o,l,a[p+15],22,1236535329),l=f(l,m,n,o,a[p+1],5,-165796510),o=f(o,l,m,n,a[p+6],9,-1069501632),n=f(n,o,l,m,a[p+11],14,643717713),m=f(m,n,o,l,a[p+0],20,-373897302),l=f(l,m,n,o,a[p+5],5,-701558691),o=f(o,l,m,n,a[p+10],9,38016083),n=f(n,o,l,m,a[p+15],14,-660478335),m=f(m,n,o,l,a[p+4],20,-405537848),l=f(l,m,n,o,a[p+9],5,568446438),o=f(o,l,m,n,a[p+14],9,-1019803690),n=f(n,o,l,m,a[p+3],14,-187363961),m=f(m,n,o,l,a[p+8],20,1163531501),l=f(l,m,n,o,a[p+13],5,-1444681467),o=f(o,l,m,n,a[p+2],9,-51403784),n=f(n,o,l,m,a[p+7],14,1735328473),m=f(m,n,o,l,a[p+12],20,-1926607734),l=g(l,m,n,o,a[p+5],4,-378558),o=g(o,l,m,n,a[p+8],11,-2022574463),n=g(n,o,l,m,a[p+11],16,1839030562),m=g(m,n,o,l,a[p+14],23,-35309556),l=g(l,m,n,o,a[p+1],4,-1530992060),o=g(o,l,m,n,a[p+4],11,1272893353),n=g(n,o,l,m,a[p+7],16,-155497632),m=g(m,n,o,l,a[p+10],23,-1094730640),l=g(l,m,n,o,a[p+13],4,681279174),o=g(o,l,m,n,a[p+0],11,-358537222),n=g(n,o,l,m,a[p+3],16,-722521979),m=g(m,n,o,l,a[p+6],23,76029189),l=g(l,m,n,o,a[p+9],4,-640364487),o=g(o,l,m,n,a[p+12],11,-421815835),n=g(n,o,l,m,a[p+15],16,530742520),m=g(m,n,o,l,a[p+2],23,-995338651),l=h(l,m,n,o,a[p+0],6,-198630844),o=h(o,l,m,n,a[p+7],10,1126891415),n=h(n,o,l,m,a[p+14],15,-1416354905),m=h(m,n,o,l,a[p+5],21,-57434055),l=h(l,m,n,o,a[p+12],6,1700485571),o=h(o,l,m,n,a[p+3],10,-1894986606),n=h(n,o,l,m,a[p+10],15,-1051523),m=h(m,n,o,l,a[p+1],21,-2054922799),l=h(l,m,n,o,a[p+8],6,1873313359),o=h(o,l,m,n,a[p+15],10,-30611744),n=h(n,o,l,m,a[p+6],15,-1560198380),m=h(m,n,o,l,a[p+13],21,1309151649),l=h(l,m,n,o,a[p+4],6,-145523070),o=h(o,l,m,n,a[p+11],10,-1120210379),n=h(n,o,l,m,a[p+2],15,718787259),m=h(m,n,o,l,a[p+9],21,-343485551),l=c(l,d),m=c(m,i),n=c(n,j),o=c(o,k);return[l,m,n,o]}(function(a){var b,c,d=Array(a.length>>2);for(b=0,c=d.length;b<c;b++)d[b]=0;for(b=0,c=8*a.length;b<c;b+=8)d[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return d}(b=function(a){for(var b,c,d="",e=-1,f=a.length;++e<f;)b=a.charCodeAt(e),c=e+1<f?a.charCodeAt(e+1):0,55296<=b&&b<=56319&&56320<=c&&c<=57343&&(b=65536+((1023&b)<<10)+(1023&c),e++),b<=127?d+=String.fromCharCode(b):b<=2047?d+=String.fromCharCode(192|b>>>6&31,128|63&b):b<=65535?d+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|63&b):b<=2097151&&(d+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|63&b));return d}(a)),8*b.length)))}),VK.extend=function(a,b,c){for(var d in b)(c||void 0===a[d])&&(a[d]=b[d]);return a},VK.extend(VK,{_domain:{base:"https://vk.com",login:"https://login.vk.com",main:"https://oauth.vk.com",api:"https://api.vk.com"}},!0),VK.xdConnectionCallbacks?(setTimeout(function(){for(var a;a=VK.xdConnectionCallbacks.pop();)a()},0),VK.Widgets&&!VK.Widgets._constructor&&(VK.Widgets=!1)):(VK.extend(VK,{version:1,_apiId:null,_session:null,_userStatus:"unknown",_path:{login:"authorize",proxy:"fxdm_oauth_proxy.html"},_rootId:"vk_api_transport",_nameTransportPath:"",xdReady:!1,access:{FRIENDS:2,PHOTOS:4,AUDIO:8,VIDEO:16,MATCHES:32,QUESTIONS:64,WIKI:128}}),VK.init=function(a){var b,c;if(VK._apiId=null,!a.apiId)throw Error("VK.init() called without an apiId");if(VK._apiId=a.apiId,a.onlyWidgets)return!0;a.nameTransportPath&&""!==a.nameTransportPath&&(VK._nameTransportPath=a.nameTransportPath),(c=document.getElementById(VK._rootId))||((c=document.createElement("div")).id=VK._rootId,(b=document.body).insertBefore(c,b.childNodes[0])),c.style.position="absolute",c.style.top="-10000px";var d=VK.Cookie.load();d&&(VK.Auth._loadState="loaded",VK.Auth.setSession(d,d?"connected":"unknown"))},VK.Cookie||(VK.Cookie={_domain:null,load:function(){var a,b=document.cookie.match("\\bvk_app_"+VK._apiId+"=([^;]*)\\b");if(b){if("oauth"!=(a=this.decode(b[1])).secret)return!1;a.expire=parseInt(a.expire,10),VK.Cookie._domain="."+window.location.hostname}return a},setRaw:function(a,b,c,d){var e;e="vk_app_"+VK._apiId+"="+a;var f=d?(new Date).getTime()+1e3*d:1e3*b;e+=a&&0===b?"":"; expires="+new Date(f).toGMTString(),e+="; path=/",e+=c?"; domain=."+c:"",document.cookie=e,this._domain=c},set:function(a,b){a?this.setRaw(this.encode(a),a.expire,window.location.hostname,(b||{}).time):this.clear()},clear:function(){this.setRaw("",0,this._domain,0)},encode:function(a){var b,c=[];for(b in a)"user"!=b&&c.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b]));return c.sort(),c.join("&")},decode:function(a){var b,c,d={},e=a.split("&");for(b=0;b<e.length;b++)(c=e[b].split("=",2))&&c[0]&&(d[decodeURIComponent(c[0])]=decodeURIComponent(c[1]));return d}}),VK.Api||(VK.Api={_headId:null,_callbacks:{},ie6_7:function(){return VK.Api.ieTested||(VK.Api.isIE6_7=navigator.userAgent.match(/MSIE [6|7]/i),VK.Api.ieTested=!0),VK.Api.isIE6_7},supportCORS:function(){return"withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest},makeRequest:function(a,b){var c=VK.Api.createRequest("GET",a);return!!c&&(c.onload=function(){var a=c.responseText;if(200===c.status)b(a);else try{console.error("Open api access error",c.response)}catch(a){}},c.onerror=function(){try{console.error("Open api access error")}catch(a){}},c.send(),!0)},createRequest:function(a,b){var c=new XMLHttpRequest;return"withCredentials"in c?(c.open(a,b,!0),c.withCredentials=!0):"undefined"!=typeof XDomainRequest?((c=new XDomainRequest).open(a,b),c.withCredentials=!0):c=null,c},attachScript:function(a){VK.Api._headId||(VK.Api._headId=document.getElementsByTagName("head")[0]);var b=document.createElement("script");b.type="text/javascript",b.setAttribute("encoding","UTF-8"),b.src=a,VK.Api._headId.appendChild(b)},checkMethod:function(a,b,c,d){var e=a.toLowerCase();if("wall.post"===e){var f,g,h,i,j=/(^https?:\/\/)|(^(poll|album|photo|video|doc|audio|page|note)-?\d+_-?\d+)$/,k=[];b.v||(b.v="5.95"),b.attachments=b.attachments||b.attachment||[],"string"==typeof b.attachments&&(b.attachments=b.attachments.split(","));for(var l=0;l<b.attachments.length;l++){var m=b.attachments[l].trim();j.test(m)&&k.push(m)}return b.attachments=k.length?k:"",f="_"+Math.random().toString(16).substr(2),g={act:"wall_post_box",method:e,widget:4,aid:parseInt(VK._apiId,10),text:b.message||"",method_access:f},(g=VK.extend(g,b)).owner_id=parseInt(b.owner_id||0,10),g.publish_date=b.publish_date||"",h=VK._domain.base+"/al_apps.php",h+=obj2qs(g),VK.UI.popup({url:h,width:560,height:304}),i=setInterval(function(){VK.UI.active.closed&&(clearInterval(i),b.method_access=f,VK.Api.call(a,b,c,d))},500),!1}return"messages.allowmessagesfromgroup"!=e||(f="_"+Math.random().toString(16).substr(2),h=VK._domain.base+"/widget_allow_messages_from_community.php?act=allow_box&group_id="+parseInt(b.group_id,10)+"&app_id="+parseInt(VK._apiId,10)+"&method_access="+f,VK.UI.popup({url:h,width:560,height:304}),i=setInterval(function(){VK.UI.active.closed&&(clearInterval(i),b.method_access=f,VK.Api.call(a,b,c,d))},500),!1)},call:function(a,b,c,d){var e,f,g=b||{};if("object"!=typeof g||"function"!=typeof c)return!1;if(b.method_access||b.method_force||VK.Api.checkMethod(a,b,c,d)){if(d||(d=0),"loaded"!=VK.Auth._loadState){var h=function(d){d&&d.session&&(VK.Observer.unsubscribe("auth.loginStatus",h),VK.Api.call(a,b,c))};return VK.Observer.subscribe("auth.loginStatus",h),void VK.Auth.getLoginStatus()}if(VK.Api.queryLength(g)<1500&&!VK.Api.ie6_7()){for(var i=!1,j=parseInt(1e7*Math.random(),10);VK.Api._callbacks[j];)j=parseInt(1e7*Math.random(),10);g.callback="VK.Api._callbacks["+j+"]"}else i=!0;VK._session&&VK._session.sid&&(g.access_token=VK._session.sid),e=VK.Cookie.encode(g),f=function(e){if(!e.error||3!=e.error.error_code&&4!=e.error.error_code&&5!=e.error.error_code)c(e);else{if(d>3)return!1;var f=function(e){VK.Observer.unsubscribe("auth.sessionChange",f),delete b.access_token,e.session&&VK.Api.call(a,b,c,d+1)};VK.Observer.subscribe("auth.sessionChange",f),VK.Auth.getLoginStatus()}i||delete VK.Api._callbacks[j]},i?VK.xdReady?VK.XDM.remote.callMethod("apiCall",a,e,f):(VK.Observer.subscribe("xdm.init",function(){VK.XDM.remote.callMethod("apiCall",a,e,f)}),VK.XDM.init()):(VK.Api._callbacks[j]=f,VK.Api.attachScript(VK._domain.api+"/method/"+a+"?"+e))}},queryLength:function(a){var b,c=100;for(b in a)c+=b.length+encodeURIComponent(a[b]).length+1;return c}},VK.api=function(a,b,c){VK.Api.call(a,b,c)}),VK.Auth||(VK.Auth={popup:null,lsCb:{},setSession:function(a,b,c,d){var e=!VK._session&&a,f=VK._session&&!a,g=VK._session&&a&&VK._session.mid!=a.mid,h=e||f||VK._session&&a&&VK._session.sid!=a.sid,i=b!=VK._userStatus,j={session:a,status:b,settings:c};return VK._session=a,VK._userStatus=b,VK.Cookie.set(a,d),(h||i||g)&&setTimeout(function(){i&&VK.Observer.publish("auth.statusChange",j),(f||g)&&VK.Observer.publish("auth.logout",j),(e||g)&&VK.Observer.publish("auth.login",j),h&&VK.Observer.publish("auth.sessionChange",j)},0),j},login:function(a,b){if(!VK._apiId)return!1;var c=VK._domain.main+"/"+VK._path.login+"?client_id="+VK._apiId+"&display=popup&redirect_uri=close.html&response_type=token&openapi=1";b&&parseInt(b,10)>0&&(c+="&scope="+b),VK.Observer.unsubscribe("auth.onLogin"),VK.Observer.subscribe("auth.onLogin",a),VK.UI.popup({width:665,height:370,url:c});var d=function(){VK.Auth.getLoginStatus(function(a){VK.Observer.publish("auth.onLogin",a),VK.Observer.unsubscribe("auth.onLogin")},!0)};VK.UI.popupOpened=!0;var e=function(){if(!VK.UI.popupOpened)return!1;try{if(!VK.UI.active.top||VK.UI.active.closed)return VK.UI.popupOpened=!1,d(),!0}catch(a){return VK.UI.popupOpened=!1,d(),!0}setTimeout(e,100)};setTimeout(e,100)},logout:function(a){VK.Auth.revokeGrants(a)},revokeGrants:function(a){var b=function(c){VK.Observer.unsubscribe("auth.statusChange",b),a&&a(c)};if(VK.Observer.subscribe("auth.statusChange",b),VK._session&&VK._session.sid){var c=VK._domain.login+"?act=openapi&oauth=1&aid="+parseInt(VK._apiId,10)+"&location="+encodeURIComponent(window.location.hostname)+"&do_logout=1&token="+VK._session.sid;VK.Api.supportCORS()?VK.Api.makeRequest(c+"&new=1",function(){VK.Auth.setSession(null,"unknown")}):VK.Api.attachScript(c)}VK.Cookie.clear()},getSession:function(){return VK._session},getLoginStatus:function(cb,force){if(VK._apiId){if(cb){if(!force&&"loaded"==VK.Auth._loadState)return void cb({status:VK._userStatus,session:VK._session});VK.Observer.subscribe("auth.loginStatus",cb)}if(force||"loading"!=VK.Auth._loadState){VK.Auth._loadState="loading";var url=VK._domain.login+"?act=openapi&oauth=1&aid="+parseInt(VK._apiId,10)+"&location="+encodeURIComponent(window.location.hostname);if(VK.Api.supportCORS()){var loginCallback=function(response){if(this.JSON||(this.JSON={}),response="function"!=typeof JSON.parse?eval(response):JSON.parse(response),VK.Auth._loadState="loaded",response&&response.auth){var session={mid:response.user.id,sid:response.access_token,sig:response.sig,secret:response.secret,expire:response.expire};force&&(session.user=response.user);var status="connected"}else{var session=null,status=response.user?"not_authorized":"unknown";VK.Cookie.clear()}VK.Auth.setSession(session,status,!1,response),VK.Observer.publish("auth.loginStatus",{session:session,status:status}),VK.Observer.unsubscribe("auth.loginStatus")};VK.Api.makeRequest(url+"&new=1",loginCallback)}else{for(var rnd=parseInt(1e7*Math.random(),10);VK.Auth.lsCb[rnd];)rnd=parseInt(1e7*Math.random(),10);VK.Auth.lsCb[rnd]=function(a){if(delete VK.Auth.lsCb[rnd],VK.Auth._loadState="loaded",a&&a.auth){var b={mid:a.user.id,sid:a.access_token,sig:a.sig,secret:a.secret,expire:a.expire};force&&(b.user=a.user);var c="connected"}else b=null,c=a.user?"not_authorized":"unknown",VK.Cookie.clear();VK.Auth.setSession(b,c,!1,a),VK.Observer.publish("auth.loginStatus",{session:b,status:c}),VK.Observer.unsubscribe("auth.loginStatus")},VK.Api.attachScript(url+"&rnd="+rnd)}}}}}),VK.App||(VK.App={_appOpened:!1,_addToGroupPopup:null,open:function(a,b){!VK.App._appOpened&&VK._apiId&&(VK._session?VK.App._openApp(a,b):VK.Auth.login(function(c){c&&c.session&&VK.App._openApp(a,b)}))},_openApp:function(a,b){var c,d,e=[];if(b=b||{},a&&VK._apiId&&!VK.App._appOpened){if("[object Object]"===Object.prototype.toString.call(b.data))try{b.data=JSON.stringify(b.data)}catch(a){b.data=""}for(var f in c=VK._domain.base+"/apps?act=open_external_app_openapi&aid="+VK._apiId,b.aid=VK._apiId,b){var g="";b.hasOwnProperty(f)&&(void 0!==b[f]&&(g=encodeURIComponent(b[f])),e.push(encodeURIComponent(f)+"="+g))}c+="&url="+a,c+="&q="+encodeURIComponent(e.join("&")),d=VK.Util.Box(c,{},{closeExternalApp:function(){VK.App._result?(VK.Observer.publish("app.done",VK.App._result),VK.App._result=null):VK.Observer.publish("app.closed"),d.hide(),VK.App._appOpened=!1},externalAppDone:function(a,b){b?VK.App._result=a:(VK.Observer.publish("app.done",a),d.hide(),VK.App._appOpened=!1,VK.App._result=null)}}),d.show(),VK.App._appOpened=!0,VK.App._result=null}},addToGroup:function(a){this._addToGroupPopup&&!this._addToGroupPopup.closed||(this._onAddToGroupDone&&VK.Util.removeEvent("message",this._onAddToGroupDone,window),this._onAddToGroupDone=function(a){a.origin===VK._domain.base&&"app.addToGroup"===a.data.method&&(VK.Observer.publish("app.addToGroupDone",{app_id:a.data.app_id,group_ids:a.data.group_ids}),VK.Util.removeEvent("message",this._onAddToGroupDone,window),this._onAddToGroupDone=null)}.bind(this),window.postMessage&&VK.Util.addEvent("message",this._onAddToGroupDone,window),this._addToGroupPopup=VK.UI.popup({url:VK._domain.base+"/add_community_app.php?aid="+a,width:560,height:650}))}})),VK.UI||(VK.UI={active:null,_buttons:[],popup:function(a){var b,c=void 0!==window.screenX?window.screenX:window.screenLeft,d=void 0!==window.screenY?window.screenY:window.screenTop,e=void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth,f=void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight-22,g=a.width,h=a.height,i=parseInt(c+(e-g)/2,10),j=parseInt(d+(f-h)/2.5,10);return b="width="+g+",height="+h+",left="+(i=window.screen&&window.screenX&&screen.left&&screen.left>1e3?0:i)+",top="+j,this.active=window.open(a.url,"vk_openapi",b),this.active},button:function(a,b){var c;"string"==typeof a&&(a=document.getElementById(a)),this._buttons.push(a),index=this._buttons.length-1,c='<table cellspacing="0" cellpadding="0" id="openapi_UI_'+index+'" onmouseover="VK.UI._change(1, '+index+');" onmouseout="VK.UI._change(0, '+index+');" onmousedown="VK.UI._change(2, '+index+');" onmouseup="VK.UI._change(1, '+index+');" style="cursor: pointer; border: 0px; font-family: tahoma, arial, verdana, sans-serif, Lucida Sans; font-size: 10px;"><tr style="vertical-align: middle"><td><div style="border: 1px solid #3b6798;border-radius: 2px 0px 0px 2px;-moz-border-radius: 2px 0px 0px 2px;-webkit-border-radius: 2px 0px 0px 2px;"><div style="border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 4px 0px 6px;line-height: 13px;">&#1042;&#1086;&#1081;&#1090;&#1080;</div></div></td><td><div style="background: url('+VK._domain.base+'/images/btns.png) 0px -42px no-repeat; width: 21px; height: 21px"></div></td><td><div style="border: 1px solid #3b6798;border-radius: 0px 2px 2px 0px;-moz-border-radius: 0px 2px 2px 0px;-webkit-border-radius: 0px 2px 2px 0px;"><div style="border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 6px 0px 4px;line-height: 13px;">&#1050;&#1086;&#1085;&#1090;&#1072;&#1082;&#1090;&#1077;</div></div></td></tr></table>',a.innerHTML=c,a.style.width=a.childNodes[0].offsetWidth+"px"},_change:function(a,b){for(var c=document.getElementById("openapi_UI_"+b).rows[0],d=[c.cells[0].firstChild.firstChild,c.cells[2].firstChild.firstChild],e=0;e<2;++e){var f=d[e];0===a?(f.style.backgroundColor="#6D8DB1",f.style.borderTopColor="#7E9CBC",f.style.borderLeftColor=f.style.borderRightColor=f.style.borderBottomColor="#5C82AB"):1==a?(f.style.backgroundColor="#7693B6",f.style.borderTopColor="#88A4C4",f.style.borderLeftColor=f.style.borderRightColor=f.style.borderBottomColor="#6088B4"):2==a&&(f.style.backgroundColor="#6688AD",f.style.borderBottomColor="#7495B8",f.style.borderLeftColor=f.style.borderRightColor=f.style.borderTopColor="#51779F")}0===a||2==a?c.cells[2].firstChild.style.backgroundPosition="0px -42px":1==a&&(c.cells[2].firstChild.style.backgroundPosition="0px -63px")}}),VK.XDM||(VK.XDM={remote:null,init:function(){if(this.remote)return!1;var a=VK._domain.api+"/"+VK._path.proxy;this.remote=new fastXDM.Server({onInit:function(){VK.xdReady=!0,VK.Observer.publish("xdm.init")}}),this.remote.append(document.getElementById(VK._rootId),{src:a})},xdHandler:function(code){try{eval("VK."+code)}catch(a){}}}),VK.Observer||(VK.Observer={_subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},publish:function(a){var b,c,d=Array.prototype.slice.call(arguments),e=(a=d.shift(),this._subscribers()[a]);if(e)for(b=0,c=e.length;b<c;b++)null!=e[b]&&e[b].apply(this,d)},subscribe:function(a,b){var c=this._subscribers();if("function"!=typeof b)return!1;c[a]?c[a].push(b):c[a]=[b]},unsubscribe:function(a,b){var c,d,e=this._subscribers()[a];if(!e)return!1;if("function"==typeof b)for(c=0,d=e.length;c<d;c++)e[c]==b&&(e[c]=null);else delete this._subscribers()[a]}}),VK.Widgets||(VK.Widgets={},VK.Widgets.count=0,VK.Widgets.RPC={},VK.Widgets.loading=function(a,b){a.style.background=b?'url("'+VK._domain.base+'/images/upload.gif") center center no-repeat transparent':"none"},VK.Widgets.Comments=function(a,b,c){var d=VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");b=VK.Util.parseOptions(b),document.getElementById(a);var e,f={limit:b.limit||10,height:b.height||0,mini:void 0===b.mini?"auto":b.mini,norealtime:b.norealtime?1:0},g=function(){return e.callMethod("mouseUp"),!1},h=function(a){e.callMethod("mouseMove",{screenY:a.screenY})};if(b.browse)f.browse=1,f.replies=b.replies||0;else{var i=b.pageUrl||d.url;"/"==i.substr(0,1)&&(i=location.protocol+"//"+location.host+i),VK.extend(f,{page:c||0,status_publish:void 0===b.autoPublish?0:b.autoPublish,attach:void 0===b.attach?"*":b.attach?b.attach:"",url:i,title:b.pageTitle||d.title,description:b.pageDescription||d.description,image:b.pageImage||d.image})}return b.onChange&&(VK.Observer.subscribe("widgets.comments.new_comment",b.onChange),VK.Observer.subscribe("widgets.comments.delete_comment",b.onChange)),VK.Widgets._constructor("widget_comments.php",a,b,f,{showBox:function(a,b){VK.Util.Box(VK.Util.getAbsUrl(a),[],{proxy:e}).show()},startDrag:function(){cursorBack=window.document.body.style.cursor,window.document.body.style.cursor="pointer",VK.Util.addEvent("mousemove",h),VK.Util.addEvent("mouseup",g)},stopDrag:function(){window.document.body.style.cursor=cursorBack,VK.Util.removeEvent("mousemove",h),VK.Util.removeEvent("mouseup",g)}},{startHeight:133,minWidth:300},function(a,b,c){e=c})},VK.Widgets.CommentsBrowse=function(a,b){return(b=VK.Util.parseOptions(b)).browse=1,VK.Widgets.Comments(a,b)},VK.Widgets.Recommended=function(a,b){if(VK.Util.getPageData(),!VK._apiId)throw Error("VK not initialized. Please use VK.init");var c={limit:(b=VK.Util.parseOptions(b)).limit||5,max:b.max||0,sort:b.sort||"friend_likes",verb:b.verb||0,period:b.period||"week",target:b.target||"parent"};return VK.Widgets._constructor("widget_recommended.php",a,b,c,{},{startHeight:116+47*c.limit-15,minWidth:150})},VK.Widgets.Post=function(a,b,c,d,e){e=VK.Util.parseOptions(e),document.getElementById(a);var f,g,h={owner_id:b,post_id:c,hash:d||"",from:e?e.from:""};return VK.Widgets._constructor("widget_post.php",a,e,h,{showBox:function(a,b){VK.Util.Box(VK.Util.getAbsUrl(a),[],{proxy:f}).show()},startDrag:function(){g=window.document.body.style.cursor,window.document.body.style.cursor="pointer"},stopDrag:function(){window.document.body.style.cursor=g}},{startHeight:90,minWidth:250},function(a,b,c){f=c})},VK.Widgets.TextLive=function(a,b,c,d,e){return e=VK.Util.parseOptions(e),VK.Widgets._constructor("widget_textlive.php",a,e,{textlive_id:b,textpost_id:c,hash:d||""},null,{startHeight:c?176:167,minWidth:320})},VK.Widgets.Like=function(a){if(a)return a;var b=[];return a=function(a,c,d){function e(a){if((w||a)&&l&&k&&l&&("none"==k.style.display||"yes"==k.getAttribute("vkhidden"))){x&&clearTimeout(x),m&&clearTimeout(m);var b=c.getScrollTop?c.getScrollTop():document.body.scrollTop||document.documentElement.scrollTop||0,d=VK.Util.getXY(h,c.fixed),e=v?0:d[1];b>d[1]-120&&"top"!=c.tooltipPos||"vertical"==o||"bottom"==c.tooltipPos?(k.style.top=e+t+2+"px",l.callMethod("show",!1,o+"_"+r)):(k.style.top=e-128+"px",l.callMethod("show",!0,o+"_"+r)),VK.Util.ss(k,{left:(v?0:d[0])-("full"==o||"button"==o?32:2)+"px",display:"block",opacity:1,filter:"none"}),k.setAttribute("vkhidden","no"),w=!0}}function f(a){w&&!a||!l||(l.callMethod("hide"),j.callMethod("hide"),x=setTimeout(function(){k.style.display="none"},400))}var g=VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");var h,i,j,k,l,m,n={18:43,20:47,22:51,24:55,30:67},o="full"==(c=VK.extend(VK.Util.parseOptions(c),{allowTransparency:!0})).type||"button"==c.type||"vertical"==c.type||"mini"==c.type?c.type:"full",p="auto"===c.width&&("button"==o||"mini"==o),q=parseInt(c.height,10)||22,r=q&&n[q]?q:22,s=p?153:"full"==o?Math.max(200,c.width||350):"button"==o?180:"mini"==o?115:n[r],t="vertical"==o?2*q+7:q,u={page:d||0,url:c.pageUrl||g.url,type:o,verb:1==c.verb?1:0,color:c.color||"",title:c.pageTitle||g.title,description:c.pageDescription||g.description,image:c.pageImage||g.image,text:(c.text||"").substr(0,140),h:q},v=c.ttHere||!1,w=!1,x=null;"vertical"!=o&&"button"!=o&&"mini"!=o||delete c.width,p&&(u.auto_width=1);var y=VK.Widgets._constructor("widget_like.php",a,c,u,{initTooltip:function(a){l=new fastXDM.Server({onInit:a?function(){e()}:function(){},proxy:j,showBox:function(a,b){VK.Util.Box(VK.Util.getAbsUrl(a),[b.width,b.height],{proxy:l}).show()}},!1,{safe:!0}),(k=l.append(v?h:document.body,{src:i.src+"&act=a_like_tooltip",scrolling:"no",allowTransparency:!0,id:i.id+"_tt",style:{position:"absolute",padding:0,display:"none",opacity:.01,filter:"alpha(opacity=1)",border:"0",width:"274px",height:"130px",zIndex:5e3,overflow:"hidden"}})).setAttribute("vkhidden","yes"),k.onmouseover=function(){clearTimeout(m),w=!0},k.onmouseout=function(){clearTimeout(m),w=!1,m=setTimeout(function(){f()},200)}},showTooltip:e,hideTooltip:f,destroy:function(){j.destroy();try{i.src="about: blank;"}catch(a){}if(i.parentNode.removeChild(i),k){try{k.src="about: blank;"}catch(a){}k.parentNode.removeChild(k)}l&&l.destroy()},showBox:function(a,b){VK.Util.Box(VK.Util.getAbsUrl(a),[],{proxy:j}).show()},proxy:function(){l&&l.callMethod.apply(l,arguments)}},{startHeight:t,minWidth:s},function(a,b,c){j=c,VK.Util.ss(h=a,{height:t+"px",width:s+"px",position:"relative",clear:"both"}),VK.Util.ss(i=b,{height:t+"px",width:s+"px",overflow:"hidden",zIndex:150}),h.onmouseover=function(){clearTimeout(m),w=!0},h.onmouseout=function(){clearTimeout(m),w=!1,m=setTimeout(function(){f()},200)}});return b.push(y),y},a.destroyAll=function(){for(var a=null;b[0];)(a=VK.Widgets.RPC[b.pop()])&&a.methods.destroy()},a}(VK.Widgets.Like),VK.Widgets.Poll=function(a,b,c){var d=VK.Util.getPageData();if(!c)throw Error("No poll id passed");var e,f={poll_id:c,url:(b=VK.Util.parseOptions(b)).pageUrl||d.url||location.href,title:b.pageTitle||d.title,description:b.pageDescription||d.description};return b.preview&&(f.is_preview=1,delete b.preview),void 0!==b.share&&(f.share=b.share?1:0),VK.Widgets._constructor("al_widget_poll.php",a,b,f,{showBox:function(a,b){VK.Util.Box(VK.Util.getAbsUrl(a),[],{proxy:e}).show()}},{startHeight:144,minWidth:300},function(a,b,c){e=c})},VK.Widgets.App=function(a,b,c){if(!b)throw Error("No app id passed");c=VK.Util.parseOptions(c);var d,e=void 0,f=void 0,g={aid:b,mode:parseInt(c.mode,10)||1};switch(g.mode){case 1:c.width=144,e=251;break;case 2:c.width=c.width?Math.max(200,Math.min(1e4,parseInt(c.width,10))):200,f=e=193;break;case 3:c.width=c.width?Math.max(50,Math.min(1e4,parseInt(c.width,10))):void 0,f=e=c.height={18:18,20:20,22:22,24:24,30:30}[parseInt(c.height,10)||30]}return d=c.width,VK.Widgets._constructor("widget_app.php",a,c,g,{},{startHeight:e,height:f,minWidth:d})},VK.Widgets.Community=VK.Widgets.Group=function(a,b,c){function d(){return f.callMethod("mouseUp"),!1}function e(a){return f.callMethod("mouseMove",{screenY:a.screenY}),!1}if(b=VK.Util.parseOptions(b),!(c=parseInt(c,10)))throw Error("No group_id passed");b.mode=parseInt(b.mode,10).toString();var f,g,h={gid:c,mode:b.mode?b.mode:"0"},i=3==b.mode?185:1==b.mode?141:0|b.height||290;return b.wall&&(h.wall=b.wall),h.color1=b.color1||"",h.color2=b.color2||"",h.color3=b.color3||"",h.class_name=b.class_name||"",b.no_head&&(h.no_head=1),b.no_cover&&(h.no_cover=1),b.wide&&(h.wide=1,(!b.width||b.width<300)&&(b.width=300)),0|!b.width&&(b.width=200),VK.Widgets._constructor("widget_community.php",a,b,h,{showBox:function(a,b){VK.Util.Box(VK.Util.getAbsUrl(a),[],{proxy:f}).show()},startDrag:function(){g=window.document.body.style.cursor,window.document.body.style.cursor="pointer",VK.Util.addEvent("mousemove",e),VK.Util.addEvent("mouseup",d)},stopDrag:function(){window.document.body.style.cursor=g,VK.Util.removeEvent("mousemove",e),VK.Util.removeEvent("mouseup",d)},auth:function(){VK.Auth.login(null,1)}},{minWidth:120,startHeight:i},function(a,b,c){f=c})},VK.Widgets.Auth=function(a,b){if(VK.Util.getPageData(),!VK._apiId)throw Error("VK not initialized. Please use VK.init");return(b=VK.Util.parseOptions(b)).width||(b.width=200),b.type?type=1:type=0,VK.Widgets._constructor("widget_auth.php",a,b,{},{makeAuth:function(a){if(a.session&&(VK.Auth._loadState="loaded",VK.Auth.setSession(a.session,"connected"),VK.Observer.publish("auth.loginStatus",{session:a.session,status:"connected"}),VK.Observer.unsubscribe("auth.loginStatus")),b.onAuth)b.onAuth(a);else{if(b.authUrl)var c=b.authUrl;else c=window.location.href;-1==c.indexOf("?")?c+="?":c+="&";var d=[];for(var e in a)"session"!=e&&d.push(e+"="+decodeURIComponent(a[e]).replace(/&/g,"%26").replace(/\#/g,"%23").replace(/\?/,"%3F"));window.location.href=c+d.join("&")}}},{startHeight:134})},VK.Widgets.Subscribe=function(a,b,c){if(!(c=parseInt(c,10)))throw Error("No owner_id passed");var d,e={oid:c};return(b=VK.Util.parseOptions(b)).mode&&(e.mode=b.mode),b.soft&&(e.soft=b.soft),VK.Widgets._constructor("widget_subscribe.php",a,b,e,{showBox:function(a,b){VK.Util.Box(VK.Util.getAbsUrl(a),[],{proxy:d}).show()},auth:function(){VK.Auth.login(null,1)}},{minWidth:220,startHeight:22},function(a,b,c){d=c})},VK.Widgets.ContactUs=function(a,b,c){if(!(c=parseInt(c,10)))throw Error("No group or user id passed");b=VK.Util.parseOptions(b);var d={oid:c,height:{18:18,20:20,22:22,24:24,30:30}[parseInt(b.height,10)||24],text:(b.text||"").substr(0,140)};return VK.Widgets._constructor("widget_contactus.php",a,b,d,{},{startHeight:d.height,height:d.height},function(a,b,c){})},VK.Widgets.Bookmarks=function(a,b){b=VK.Util.parseOptions(b);var c={height:{18:18,20:20,22:22,24:24,30:30}[parseInt(b.height,10)||30],url:b.url||window.location.href};return VK.Widgets._constructor("widget_bookmarks.php",a,b,c,{},{startHeight:c.height,height:c.height},function(a,b,c){})},VK.Widgets.Playlist=function(a,b,c,d,e){var f,g={oid:parseInt(b,10),pid:parseInt(c,10),hash:d||""};if(!g.oid)throw Error("No owner id passed");if(!g.pid)throw Error("No playlist id passed");return e=VK.Util.parseOptions(e),VK.Widgets._constructor("widget_playlist.php",a,e,g,{showBox:function(a,b){VK.Util.Box(VK.Util.getAbsUrl(a),[],{proxy:f}).show()}},{minWidth:200},function(a,b,c){f=c})},VK.Widgets.Ads=function(a,b,c){b=VK.Util.parseOptions(b),c=c||{};var d,e={},f={},g={},h=document.getElementById(a),i={},j={},k={};for(var l in c){var m=-1!=function(a,b,c){for(var d=c||0,e=(a||[]).length;d<e;d++)if(a[d]==b)return d;return-1}(["hash"],l)?l:"ads_"+l;i[m]=c[l]}if(h&&h.getBoundingClientRect){h.style.width="100%",h.style.height="100%";var n=h.getBoundingClientRect();h.style.width="",h.style.height="",i.ads_ad_unit_width_auto=Math.floor(n.right-n.left),i.ads_ad_unit_height_auto=Math.floor(n.bottom-n.top)}return k.ads_ad_unit_width=100,k.ads_ad_unit_height=100,j.ads_ad_unit_width=parseInt(i.ads_ad_unit_width)||"auto"===i.ads_ad_unit_width&&i.ads_ad_unit_width_auto||k.ads_ad_unit_width,j.ads_ad_unit_height=parseInt(i.ads_ad_unit_height)||"auto"===i.ads_ad_unit_height&&i.ads_ad_unit_height_auto||k.ads_ad_unit_height,i.ads_handler&&(j.ads_handler=i.ads_handler),i.ads_handler_empty_html&&(j.ads_handler_empty_html=i.ads_handler_empty_html),delete i.ads_handler,delete i.ads_handler_empty_html,e.act="ads_web",e.url=location.href,VK.extend(e,i),b.noDefaultParams=!0,b.width=j.ads_ad_unit_width,b.allowTransparency=!0,f.startHeight=j.ads_ad_unit_height,f.minWidth=j.ads_ad_unit_width,g.adsOnInit=function(a,c){VK.Widgets.loading(h,!1),function(a){if(a)for(var b in a){var c=a[b];"ads_ad_unit_width"===b||"ads_ad_unit_height"===b?b in i||(j[b]=parseInt(c)||"auto"===c&&i[b+"_auto"]||k[b]):b in j||(j[b]=c)}}(c),b.onAdsReady&&b.onAdsReady.apply(b.onAdsReady,Array.prototype.slice.call(arguments)),function(a){var b=function(a){function b(a){return"[object Function]"===Object.prototype.toString.call(a)}function c(a){return"[object String]"===Object.prototype.toString.call(a)}var d=!1;try{if(!a)return!1;var e=!1;if(b(a))e=a;else if(c(a)){var f=a.split(".");e=window;for(var g=0,h=f.length;g<h&&(e=e[f[g]]);g++);if(!e){"function"===a.substr(0,8)&&(a="return "+a+";");var i=new Function(a)();b(i)?e=i:d=i}}if(e){var j=Array.prototype.slice.call(arguments,1);d=e.apply(e,j)}}catch(a){try{console.error(a)}catch(a){}}return d}(j.ads_handler,a);if(a<=0&&!0!==b){try{console.log("VK: ad_unit_id = "+i.ads_ad_unit_id,", errorCode = ",a)}catch(a){}!function(a,b,c){function e(){if(!c)try{var a=g.contentWindow.document.body.firstChild.getBoundingClientRect(),b=Math.ceil(a.bottom-a.top);b&&(g.style.height=b,h.style.height=b)}catch(a){}}if(a&&h){b=b?b+"px":"",c=c?c+"px":"";var f='<html><head></head><body style="padding: 0; margin: 0;"><div>'+a+"</div></body></html>",g=document.createElement("iframe");g.onload=e,g.id=(d?d.id:"vkwidget-"+Math.round(1e6*Math.random()))+"_ads_html_handler",g.src="about:blank",g.width="100%",g.height="100%",g.scrolling="no",g.frameBorder="0",g.allowTransparency=!0,g.style.overflow="hidden",g.style.width=b,g.style.height=c,h.style.width=b,h.style.height=c,h.appendChild(g),g.contentWindow.vk_ads_html_handler=f,g.src='javascript:window["vk_ads_html_handler"]'}}(j.ads_handler_empty_html,j.ads_ad_unit_width,j.ads_ad_unit_height)}}(a)},g.newAdsOnInitLoader=function(a){!function(a){if("vk__adsLight"in window)window.vk__adsLight&&vk__adsLight.userHandlers&&vk__adsLight.userHandlers.onInit&&vk__adsLight.userHandlers.onInit(!1);else{window.vk__adsLight=!1;var b=VK.Api&&VK.Api.attachScript||VK.addScript;if(Array.isArray(a))a.forEach(function(a){b(VK._domain.base+a)});else{var c=parseInt(a);b(VK._domain.base+jsc("/web/ads_light.js?")+c)}}}(JSON.parse(a.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")))},VK.Widgets._constructor("ads_rotate.php",a,b,e,g,f,function(a,b,c){h=a,d=b})},VK.Widgets.AllowMessagesFromCommunity=function(a,b,c){if(!(c=parseInt(c,10))||c<0)throw Error("No group id passed");b=VK.Util.parseOptions(b);var d={height:{22:22,24:24,30:30}[parseInt(b.height,10)||24],key:b.key?b.key.substr(0,256):"",group_id:c};return VK.Widgets._constructor("widget_allow_messages_from_community.php",a,b,d,{},{startHeight:d.height,height:d.height},function(a,b,c){})},VK.Widgets.Article=function(a,b,c){var d,e={url:b};return c=VK.Util.parseOptions(c),VK.Widgets._constructor("widget_article.php",a,c,e,{showBox:function(a){VK.Util.Box(VK.Util.getAbsUrl(a),[],{proxy:d}).show()}},{},function(a,b,c){d=c})},VK.Widgets.Podcast=function(a,b,c){var d={episode:b};return c=VK.Util.parseOptions(c),VK.Widgets._constructor("widget_podcast.php",a,c,d,{showBox:function(a){VK.Util.Box(VK.Util.getAbsUrl(a),[],{proxy:rpc}).show()}},{minWidth:300,startHeight:150})},VK.Widgets.CommunityMessages=function(a){if(a)return a;var b={},c={},d={no_button:{width:0,height:0},blue_circle:{width:50,height:50,margin:{bottom:20}}},e={left:{bottom:0,left:20},right:{bottom:0,right:20}};return a=function(f,g,h){function i(a){clearTimeout(c.titleTimer),c.titleTimer=setTimeout(function(){1==c.changeTitleMode?document.title=c.oldTitle||"":document.title=c.title,c.changeTitleMode=1==c.changeTitleMode?0:1,i()},a?0:1500)}function j(){h.disableTitleChange||(clearTimeout(c.titleTimer),c.oldTitle?document.title=c.oldTitle:null===c.oldTitle&&(document.title=""),c.title="")}function k(){var a=document.getElementById(f),b=a.getElementsByTagName("iframe")[0];a.style.width=b.width="372px",a.style.height=b.height="399px",a.style.margin="0px 0px 0px 0px"}function l(){var a=document.getElementById(f),b=a.getElementsByTagName("iframe")[0],c=d[s],e=c.width+y[0],g=Math.max(c.height,y[1]);a.style.width=e+"px",a.style.height=g+"px";var h=c.margin?c.margin:{};a.style.margin="0px "+(h.right||0)+"px "+(h.bottom||0)+"px 0px",b&&(b.style.boxShadow="none",b.width=e,b.height=g)}function m(a){t=a,-1==Object.keys(e).indexOf(t)&&(t="right"),n(),o("changeButtonPosition",t)}function n(){var a=document.getElementById(f);if(a){var b=["left","right","top","bottom"];for(var c in b)a.style[b[c]]="";var d=e[t];for(var c in d)a.style[c]=d[c]+"px";z&&(x?k():l())}}function o(){u&&u.callMethod.apply(u,arguments)}function p(a){a&&"[object Object]"===Object.prototype.toString.call(a)||(a={}),null==a.welcomeScreen&&(a.welcomeScreen=h.welcomeScreen);var b=document.getElementById(f).getElementsByTagName("iframe")[0];b&&b.contentWindow.postMessage({handler:"VKReforgedWidgetExpand"},VK._domain.base),clearTimeout(A.showTimer),o("expand",a)}function q(a){o("setSourceData",VK.extend({link:location.href},a))}(h=VK.Util.parseOptions(h)).width=300,h.height=399,h.expandTimeout=parseInt(h.expandTimeout)||0;var r={gid:g};h.expanded=parseInt(h.expanded)||0,(!h.from_dev&&null!=function(a){return window.localStorage?localStorage.getItem("vk_community_widget_"+a):null}("expanded")||h.expanded)&&(h.shown=1),h.shown&&(r.shown=1),h.welcomeScreen||(r.disable_welcome_screen=1),r.ref_source_info=h.ref_source_info,r.ref_source_link=location.href;var s=h.buttonType;-1==Object.keys(d).indexOf(s)&&(s="blue_circle"),"no_button"==s&&(h.disableButtonTooltip=1),h.disableButtonTooltip&&(r.disable_tooltip=1),h.tooltipButtonText&&(r.tooltip_text=h.tooltipButtonText),h.disableNewMessagesSound&&(r.disable_new_messages_sound=1),b[f]&&a.destroy(f),r.domain=document.domain,h.no_loading=1,h.disableNewMessagesSound&&h.disableExpandChatSound||(h.enable_autoplay=1),h.disableExpandChatSound&&(r.disable_expand_chat_sound=1),h.expandTimeout&&(r.expand_timeout=h.expandTimeout),h.__alpha_new_widget&&(r.__alpha_new_widget=1);var t,u,v,w=!1,x=0,y=[0,0];m(h.widgetPosition),r.button_position=h.widgetPosition,window.addEventListener("message",function(a){var b=document.getElementById(f),c=b.getElementsByTagName("iframe")[0];if(a.data&&"VKReforgedWidgetResize"===a.data.action){var d=a.data.params.width,e=a.data.params.height;c.width=d,c.height=e,b.style.width=d+"px",b.style.height=e+"px",b.style.margin=e>50?"0":"0 0 20px"}a.data&&"VKReforgedWidgetLogout"===a.data.action&&(c.parentNode.removeChild(c),b.style={})},!1);var z=0,A={};return b[f]=VK.Widgets._constructor("reforged_widget.php",f,h,r,{onStartLoading:function(){var a=document.getElementById(f);a.style.position="fixed",a.style["z-index"]=1e4,n()},onReady:function(){z=1,h.expandTimeout>0&&!h.shown&&(A.showTimer=setTimeout(function(){p({playSong:!h.disableExpandChatSound,noSaveState:1})},h.expandTimeout))},showBox:function(a){if(w)try{w.hide();try{w.iframe.src="about: blank;"}catch(a){}w.iframe.parentNode.removeChild(w.iframe)}catch(a){}(w=VK.Util.Box(VK.Util.getAbsUrl(a),[],{proxy:u},{zIndex:10002})).show()},setTooltipSize:function(a){y=a,x||l()},expand:function(a){var b,c;a=a||{},x=1,k(),a.noSaveState||(b="expanded",c=1,window.localStorage&&localStorage.setItem("vk_community_widget_"+b,c))},minimize:function(){setTimeout(function(){var a;x=0,l(),a="expanded",window.localStorage&&localStorage.removeItem("vk_community_widget_"+a)},120)},canNotWrite:function(a){h.onCanNotWrite&&h.onCanNotWrite(a)},destroy:function(){u.destroy();try{v.src="about: blank;"}catch(a){}try{v.parentNode.removeChild(v)}catch(a){}},fatalError:function(b,c){var d={code:b,widget:2,public_id:c};1903==b&&(d.referrer_domain=document.domain);var e=[];for(var g in d)e.push(g+"="+d[g]);a.destroy(f),VK.Util.Box(VK.Util.getAbsUrl("blank.php?"+e.join("&"))).show()},setPageTitle:function(a){h.disableTitleChange||(j(),c.oldTitle=document.title||null,c.title=a,c.changeTitleMode=0,i(1))},resetPageTitle:function(){j()},newMessage:function(){!document.hasFocus||document.hasFocus()||h.disableNewMessagesSound||o("playNewMsgSong")}},{},function(a,b,c){u=c,v=b,h.shown?k():l()}),VK.Util.addEvent("popstate",q.bind(this,{}),window),VK.Util.addEvent("hashchange",q.bind(this,{}),window),{expand:p,minimize:function(){o("minimize");var a=document.getElementById(f).getElementsByTagName("iframe")[0];a&&a.contentWindow.postMessage({handler:"VKReforgedWidgetMinimize"},VK._domain.base)},destroy:function(){j();var b=document.getElementById(f).getElementsByTagName("iframe")[0];b&&b.contentWindow.postMessage({handler:"VKReforgedWidgetDestroy"},VK._domain.base),a.destroy(f)},setSourceData:q,changeButtonPosition:m,stopTitleAnimation:j}},a.destroy=function(a){if(b[a]){var c=VK.Widgets.RPC[b[a]];c&&c.methods.destroy(),delete b[a]}},a.expand=function(a){console.log(b[a])},a}(VK.Widgets.CommunityMessages),VK.Widgets._constructor=function(a,b,c,d,e,f,g,h,i){var j=document.getElementById(b);if(h=h||++VK.Widgets.count,!j){if((i=i||0)>10)throw Error("VK.Widgets: object #"+b+" not found.");return setTimeout(function(){VK.Widgets._constructor(a,b,c,d,e,f,g,h,i+1)},500),h}f=f||{},e=e||{},(c=c||{}).preview&&(d.preview=1,delete c.preview);var k,l,m,n,o,p,q="auto"===c.width?0|(j.clientWidth||j.offsetWidth||f.minWidth):parseInt(c.width||0,10);"silent_code"===d.act?(q="1px",j.style.opacity=0,j.style.display="none",j.style.position="absolute"):q=q?Math.max(f.minWidth||200,Math.min(f.maxWidth||1e4,q))+"px":"100%",j.style.width=q,c.height?(d.height=c.height,j.style.height=c.height+"px"):j.style.height=(f.startHeight||200)+"px","100%"===q&&(d.startWidth=0|(j.clientWidth||j.offsetWidth)),d.url||(d.url=c.pageUrl||location.href.replace(/#.*$/,"")),k=VK._domain.base+"/"+a,l="",c.noDefaultParams||(l+="&app="+(VK._apiId||"0")+"&width="+encodeURIComponent(q)),l+="&_ver="+VK.version,VK._iframeAppWidget&&(d.iframe_app=1);var r=VK.Util.getPageData();for(p in d.url=d.url||r.url||"",d.referrer=d.referrer||document.referrer||"",d.title=d.title||r.title||document.title||"",d){if("title"==p&&d[p].length>80&&(d[p]=d[p].substr(0,80)+"..."),"description"==p&&d[p].length>160&&(d[p]=d[p].substr(0,160)+"..."),"number"==typeof d[p])m=d[p];else try{m=encodeURIComponent(d[p])}catch(a){m=""}l+="&"+p+"="+m}k+="?"+(l+="&"+(+new Date).toString(16)).substr(1),e.onStartLoading&&e.onStartLoading(),c.no_loading||VK.Widgets.loading(j,!0),e.showLoader=function(a){VK.Util.Loader(a)},e.publish=function(){var a=Array.prototype.slice.call(arguments);a.push(h),VK.Observer.publish.apply(VK.Observer,a)},e.onInit=function(){VK.Widgets.loading(j,!1),e.onReady&&e.onReady(),c.onReady&&c.onReady()},e.resize=function(a,b){j.style.height=a+"px";var c=document.getElementById("vkwidget"+h);c&&(c.style.height=a+"px")},e.resizeWidget=function(a,b){a=parseInt(a),b=parseInt(b);var d=document.getElementById("vkwidget"+h);isFinite(a)&&(j.style.width=a+"px",d&&(d.style.width=a+"px")),isFinite(b)&&(j.style.height=b+"px",d&&(d.style.height=b+"px")),c.onResizeWidget&&c.onResizeWidget()},e.updateVersion=function(a){a>1&&VK.Api.attachScript("//vk.com/js/api/openapi_update.js?"+parseInt(a))},n=VK.Widgets.RPC[h]=new fastXDM.Server(e,function(a){return!a||(a=a.toLowerCase()).match(/(\.|\/)vk\.com($|\/|\?)/)},{safe:!0});var s={overflow:"hidden"};c.custom_style&&"object"==typeof c.custom_style&&(s=VK.extend(s,c.custom_style));var t="";return c.enable_autoplay&&(t='allow="autoplay"'),o=VK.Widgets.RPC[h].append(j,{src:k,width:-1!=q.indexOf("%")?q:parseInt(q)||q,height:f.startHeight||"100%",scrolling:"no",id:"vkwidget"+h,allowTransparency:c.allowTransparency||!1,style:s},t),g&&setTimeout(function(){g(j,o||j.firstChild,n)},10),h}),VK.Util||(VK.Util={getPageData:function(){if(!VK._pData){var a,b=document.getElementsByTagName("meta"),c={},d=["description","title","url","image","app_id"];for(var e in b)if(b[e].getAttribute&&b[e].getAttribute&&((a=b[e].getAttribute("name"))||(a=b[e].getAttribute("property"))))for(var f in d)a!=d[f]&&a!="og:"+d[f]&&a!="vk:"+d[f]||(c[d[f]]=b[e].content);c.app_id&&!VK._apiId&&(VK._apiId=c.app_id),c.title=c.title||document.title||"",c.description=c.description||"",c.image=c.image||"",!c.url&&VK._iframeAppWidget&&VK._apiId&&(c.url="/app"+VK._apiId,VK._browserHash&&(c.url+=VK._browserHash));var g=location.href.replace(/#.*$/,"");c.url&&c.url.indexOf(g)||(c.url=g),VK._pData=c}return VK._pData},getStyle:function(a,b){var c,d=document.defaultView||window;if(d.getComputedStyle){b=b.replace(/([A-Z])/g,"-$1").toLowerCase();var e=d.getComputedStyle(a,null);e&&(c=e.getPropertyValue(b))}else if(a.currentStyle){var f=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()});c=a.currentStyle[b]||a.currentStyle[f]}return c},getAbsUrl:function(a){return VK._domain.base+"/"+a.replace(/^\s*\/?/,"")},parseOptions:function(a){return"[object Object]"!==Object.prototype.toString.call(a)&&(a={}),a.base_domain&&(VK._domain.base=a.base_domain),a.login_domain&&(VK._domain.login=a.login_domain),a},getXY:function(a,b){if(a&&void 0!==a){var c=0,d=0;if(void 0!==a.getBoundingClientRect){var e=a.getBoundingClientRect();c=e.left,d=e.top,b=!0}else if(a.offsetParent)do{c+=a.offsetLeft,d+=a.offsetTop,b&&(c-=a.scrollLeft,d-=a.scrollTop)}while(a=a.offsetParent);return b&&(d+=window.pageYOffset||window.scrollNode&&scrollNode.scrollTop||document.documentElement.scrollTop,c+=window.pageXOffset||window.scrollNode&&scrollNode.scrollLeft||document.documentElement.scrollLeft),[c,d]}},Loader:function a(b){a.loader||((a.loader=document.createElement("DIV")).innerHTML='<style type="text/css">        @-webkit-keyframes VKWidgetsLoaderKeyframes {0%{opacity: 0.2;}30%{opacity: 1;}100%{opacity: 0.2;}}        @keyframes VKWidgetsLoaderKeyframes {0%{opacity: 0.2;}30%{opacity: 1;}100%{opacity: 0.2;}}        .VKWidgetsLoader div {width: 7px;height: 7px;-webkit-border-radius: 50%;-khtml-border-radius: 50%;-moz-border-radius: 50%;border-radius: 50%;background: #fff;top: 21px;position: absolute;z-index: 2;-o-transition: opacity 350ms linear; transition: opacity 350ms linear;opacity: 0.2;-webkit-animation-duration: 750ms;-o-animation-duration: 750ms;animation-duration: 750ms;-webkit-animation-name: VKWidgetsLoaderKeyframes;-o-animation-name: VKWidgetsLoaderKeyframes;animation-name: VKWidgetsLoaderKeyframes;-webkit-animation-iteration-count: infinite;-o-animation-iteration-count: infinite;animation-iteration-count: infinite;-webkit-transform: translateZ(0);transform: translateZ(0);}</style><div class="VKWidgetsLoader" style="position: fixed;left: 50%;top: 50%;margin: -25px -50px;z-index: 1002;height: 50px;width: 100px;"><div style="left: 36px;-webkit-animation-delay: 0ms;-o-animation-delay: 0ms;animation-delay: 0ms;"></div><div style="left: 47px;-webkit-animation-delay: 180ms;-o-animation-delay: 180ms;animation-delay: 180ms;"></div><div style="left: 58px;-webkit-animation-delay: 360ms;-o-animation-delay: 360ms;animation-delay: 360ms;"></div><span style="display: block;background-color: #000;-webkit-border-radius: 4px;-khtml-border-radius: 4px;-moz-border-radius: 4px;border-radius: 4px;-webkit-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);-moz-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);position: absolute;left: 0;top: 0;bottom: 0; right: 0;z-index: 1;opacity: 0.7;"></span></div>',document.body.insertBefore(a.loader,document.body.firstChild)),a.loader.style.display=b?"block":"none"},Box:function(a,b,c,d){c=c||{};var e=document.body.style.overflow;VK.Util.Loader(!0);var f=/(^|\.)(vk\.com|vkontakte\.ru)$/.test(location.hostname),g=new fastXDM.Server(VK.extend(c,{onInit:function(){h.style.background="transparent",h.style.visibility="visible",document.body.style.overflow="hidden",h.setAttribute("allowfullscreen",1),f&&(document.body.className+=" layers_shown"),VK.Util.Loader()},hide:function(){h.style.display="none"},tempHide:function(){h.style.left="-10000px",h.style.top="-10000px",h.style.width="10px",h.style.height="10px",f&&(document.body.className=document.body.className.replace(/\b\s*?layers_shown\s*\b/," ")),document.body.style.overflow=e},destroy:function(){try{h.src="about: blank;"}catch(a){}h.parentNode.removeChild(h),f&&(document.body.className=document.body.className.replace(/\b\s*?layers_shown\s*\b/," ")),document.body.style.overflow=e},resize:function(a,b){}},!0),!1,{safe:!0}),h=g.append(document.body,{src:a.replace(/&amp;/g,"&"),scrolling:"no",allowTransparency:!0,style:{position:"fixed",left:0,top:0,zIndex:d&&d.zIndex||1002,background:VK._domain.base+"/images/upload.gif center center no-repeat transparent",padding:"0",border:"0",width:"100%",height:"100%",overflow:"hidden",visibility:"hidden"}});return{show:function(a,b){h.style.display="block",document.body.style.overflow="hidden"},hide:function(){h.style.display="none",document.body.style.overflow=e},iframe:h,rpc:g}},addEvent:function(a,b,c){(c=c||window.document).addEventListener?c.addEventListener(a,b,!1):c.attachEvent&&c.attachEvent("on"+a,b)},removeEvent:function(a,b,c){(c=c||window.document).removeEventListener?c.removeEventListener(a,b,!1):c.detachEvent&&c.detachEvent("on"+a,b)},ss:function(a,b){VK.extend(a.style,b,!0)}}),VK.Retargeting||(VK.Retargeting={pixelCode:null,Init:function(a){return this.pixelCode=a,this},Event:function(a){if(this.pixelCode)if(IS_BRIDGE_AVAILABLE)_bridgeSend("VKWebAppRetargetingPixel",{pixel_code:this.pixelCode,event:a});else{var b=VK.Util.getPageData(),c=b.url.substr(0,500),d=b.title&&b.title.substr(0,500)||"";(window.Image?new Image:document.createElement("img")).src=VK._domain.base+"/rtrg?p="+this.pixelCode+(a?"&event="+encodeURIComponent(a):"")+(c?"&metatag_url="+encodeURIComponent(c):"")+(d?"&metatag_title="+encodeURIComponent(d):"")}},Hit:function(){this.Event()},Add:function(a){this.pixelCode&&a&&(IS_BRIDGE_AVAILABLE?_bridgeSend("VKWebAppRetargetingPixel",{pixel_code:this.pixelCode,target_group_id:a}):(window.Image?new Image:document.createElement("img")).src=VK._domain.base+"/rtrg?p="+this.pixelCode+"&audience="+encodeURIComponent(a))},ProductEvent:function(a,b,c,d){if(this.pixelCode&&b&&a){var e=!0;void 0!==(d=d||{}).show_errors&&(e=!!d.show_errors);var f="0";void 0!==d.errors_ignore&&(f=d.errors_ignore?"1":"0");var g=VK.Util.getPageData(),h=g.url.substr(0,500),i=g.title&&g.title.substr(0,500)||"",j=VK._domain.base+"/rtrg",k=c?JSON.stringify(c):"",l={p:this.pixelCode,products_event:b,price_list_id:a,e:"1",i:f,metatag_url:h,metatag_title:i};if(k&&(l.products_params=k),IS_BRIDGE_AVAILABLE)_bridgeSend("VKWebAppRetargetingPixel",{pixel_code:this.pixelCode,price_list_id:a,products_event:b,products_params:k});else{var m=j+"?"+Object.keys(l).map(function(a){return encodeURIComponent(a)+"="+encodeURIComponent(l[a])}).join("&");VK.Api.makeRequest(m,this.onDone.bind(this,e))}}},onDone:function(a,b){if(b&&a){var c;try{c=JSON.parse(b)}catch(a){return}c&&c.errors&&this.showErrors(c.errors)}},showErrors:function(a){if(a||a.length){var b="VK Pixel Error ("+this.pixelCode+"): ";if("string"!=typeof a){var c=a.length;if(c)for(var d=0;d<c;d++)console.error(b+a[d])}else console.error(b+a)}}}),VK.Pixel||(VK.Pixel=function(a){if(this.constructor!=VK.Pixel)throw Error("VK.Pixel was called without 'new' operator");return VK.extend(this,VK.Retargeting),this.pixelCode=a,this.Goal=function(b,c){return VK.Goal(b,c,a)},this}),VK.Goal||(VK.Goal=function(a,b,c){var d=c||VK.Retargeting.pixelCode;if(d&&"string"==typeof d){var e=a||"conversion";if("string"==typeof e){var f=(b||{}).value||0;if("string"==typeof f){if(parseFloat(f).toString()!==f)return void console.error("Error argument: parameters.value not a number or valid number string")}else if("number"!=typeof f)return void console.error("Error argument: parameters.value not a number or valid number string");if(IS_BRIDGE_AVAILABLE)_bridgeSend("VKWebAppConversionHit",{pixel_code:d,conversion_event:e,conversion_value:f});else{var g=VK._domain.base+"/rtrg",h={p:d,e:"1",c:e,v:f},i=g+"?"+Object.keys(h).map(function(a){return encodeURIComponent(a)+"="+encodeURIComponent(h[a])}).join("&");VK.Api.makeRequest(i,VK.Retargeting.onDone.bind(VK.Retargeting,!0))}}else console.error("Error argument: conversionName not a string")}else console.error("Error argument: pixelCode not a string. Use VK.Retargeting.Init or VK.Pixel to initialize pixel")}),window.vkAsyncInit&&setTimeout(vkAsyncInit,0),window.vkAsyncInitCallbacks&&vkAsyncInitCallbacks.length&&setTimeout(function(){for(var a;a=vkAsyncInitCallbacks.pop();)try{a()}catch(a){try{console.error(a)}catch(a){}}},0);try{stManager.done("api/openapi.js")}catch(a){}